
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Récursivité - Cours de Terminale NSI</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/admon.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="red">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chapitre-2-recursivite" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href=".." title="Cours de Terminale NSI" class="md-header__button md-logo" aria-label="Cours de Terminale NSI" data-md-component="logo">
      
  <img src="../logo.gif" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cours de Terminale NSI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Récursivité
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="red"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
          
        
      </form>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Cours de Terminale NSI" class="md-nav__button md-logo" aria-label="Cours de Terminale NSI" data-md-component="logo">
      
  <img src="../logo.gif" alt="logo">

    </a>
    Cours de Terminale NSI
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Accueil
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        Interfaces de programmation d'applications
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Récursivité
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Récursivité
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notion-de-fonction-recursive" class="md-nav__link">
    Notion de fonction récursive
  </a>
  
    <nav class="md-nav" aria-label="Notion de fonction récursive">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#premier-exemple-calcul-de-la-somme-des-entiers-compris-entre-a-et-b" class="md-nav__link">
    Premier exemple : calcul de la somme des entiers compris entre a et b
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deuxieme-exemple-calcul-du-produit-des-entiers-compris-entre-1-et-n" class="md-nav__link">
    Deuxième exemple : calcul du produit des entiers compris entre 1 et n
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troisieme-exemple-calcul-de-x-puissance-n" class="md-nav__link">
    Troisième exemple : calcul de x puissance n
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pile-dappels-recursifs" class="md-nav__link">
    Pile d'appels récursifs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tours-de-hanoi" class="md-nav__link">
    Tours de Hanoï
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ce-quil-faut-savoir-et-savoir-faire" class="md-nav__link">
    Ce qu'il faut savoir et savoir faire
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercices-et-activites" class="md-nav__link">
    Exercices et activités
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../prog_objet/" class="md-nav__link">
        Programmation objet
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../mise_au_point/" class="md-nav__link">
        Mise au point de programmes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../diviser/" class="md-nav__link">
        Méthode diviser pour régner
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../listes/" class="md-nav__link">
        Listes chaînées
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../patience/" class="md-nav__link">
        Modularité
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../piles_files/" class="md-nav__link">
        Piles et files
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../arbres/" class="md-nav__link">
        Arbres
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../abr/" class="md-nav__link">
        Arbres binaires de recherche
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../rech_textuelle/" class="md-nav__link">
        Recherche textuelle
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../graphes/" class="md-nav__link">
        Graphes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../graphes_pond/" class="md-nav__link">
        Graphes pondérés
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../calculabilite/" class="md-nav__link">
        Calculabilité et décidabilité
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="chapitre-2-recursivite">Chapitre 2 : Récursivité</h1>
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à télécharger <a href="notebooks/cours_02.ipynb">ici</a></p>
</div>
<div class="admonition joint">
<p class="admonition-title">Cahier à télécharger <a href="cahier_02.pdf" target="_blank">ici</a></p>
</div>
<p>Le but de ce chapitre est d'introduire le concept de <strong>fonction récursive</strong>.</p>
<h2 id="notion-de-fonction-recursive">Notion de fonction récursive</h2>
<p>Il s'agit d'une fonction qui fait appel à elle-même lors de son exécution.</p>
<h3 id="premier-exemple-calcul-de-la-somme-des-entiers-compris-entre-a-et-b">Premier exemple : calcul de la somme des entiers compris entre <code>a</code> et <code>b</code></h3>
<p>On suppose que <code>a</code> est inférieur à <code>b</code> et on souhaite définir une fonction
<code>somme</code> qui calcule la somme des entiers compris entre <code>a</code> et <code>b</code>.</p>
<div class="admonition fonc">
<p class="admonition-title">Fonction <code>somme</code></p>
<details class="info"><summary>Détermine la somme des entiers compris entre <code>a</code> et <code>b</code>.</summary><div class="admonition entrée">
<p class="admonition-title">Entrées</p>
<ul>
<li><code>a</code> : entier</li>
<li><code>b</code> : entier supérieur ou égal à <code>a</code></li>
</ul>
</div>
<div class="admonition sortie">
<p class="admonition-title">Sortie</p>
<ul>
<li><code>total</code> : entier</li>
</ul>
</div>
</details>
<details class="python" open="open"><summary>Implémentation</summary><div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Version itérative</label><div class="tabbed-content">
<p>Une première façon de faire est d'utiliser une boucle pour :
on obtient une <strong>version itérative</strong> de la fonction.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">somme</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">k</span>
    <span class="k">return</span> <span class="n">total</span>
</code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Version récursive</label><div class="tabbed-content">
<p>Une autre façon de faire est de constater qu'il y a deux cas à envisager :</p>
<ul>
<li>Si <code>a == b</code>, cela signifie qu'il y a un seul
nombre dans la liste des nombres à additionner : le nombre <code>a</code>.
On renvoie donc sa valeur.</li>
<li>Si <code>a &lt; b</code>, on calcule récursivement la somme
des entiers compris entre <code>a+1</code> et <code>b</code>, on y ajoute la valeur
de <code>a</code> et on renvoie le total.</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">somme</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">a</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">somme</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">total</span>
</code></pre></div>
</td></tr></table>
<p>Ainsi définie, la fonction est une fonction récursive parce
qu'elle s'appelle elle-même dans le cas où <code>a</code> est différent de <code>b</code>.</p>
</div>
</div>
</details>
</div>
<p>On distingue deux parties dans l'écriture d'une fonction récursive :</p>
<ul>
<li>un ou plusieurs <strong>cas résursif(s)</strong>, dans lesquels la fonction 
fait appel à elle-même avec de nouveaux arguments,</li>
<li>un ou plusieurs <strong>cas de base</strong>, qui permettent de mettre un terme
aux appels récursifs successifs.</li>
</ul>
<h3 id="deuxieme-exemple-calcul-du-produit-des-entiers-compris-entre-1-et-n">Deuxième exemple : calcul du produit des entiers compris entre 1 et <code>n</code></h3>
<p>On suppose que <code>n</code> est un entier strictement positif et on souhaite définir
une fonction <code>factorielle</code> qui calcule le produit des entiers compris entre
1 et <code>n</code>.</p>
<div class="admonition fonc">
<p class="admonition-title">Fonction <code>factorielle</code></p>
<details class="info"><summary>Détermine le produit des entiers compris entre 1 et <code>n</code>.</summary><div class="admonition entrée">
<p class="admonition-title">Entrée</p>
<ul>
<li><code>n</code> : entier strictement positif</li>
</ul>
</div>
<div class="admonition sortie">
<p class="admonition-title">Sortie</p>
<ul>
<li><code>fac</code> : entier</li>
</ul>
</div>
</details>
<details class="python" open="open"><summary>Implémentation</summary><div class="tabbed-set" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">Version itérative</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">factorielle</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">fac</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">fac</span> <span class="o">=</span> <span class="n">k</span> <span class="o">*</span> <span class="n">fac</span>
    <span class="k">return</span> <span class="n">fac</span>
</code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">Version récursive</label><div class="tabbed-content">
<p>Pour l'écriture de la fonction récursive, deux cas à sont envisager :</p>
<ul>
<li>Si <code>n == 1</code>, cela signifie qu'il y a un seul
nombre dans la liste des nombres à multiplier : le nombre 1.
On renvoie donc sa valeur. C'est le <em>cas de base</em>.</li>
<li>Si <code>n &gt; 1</code>, on calcule récursivement le produit
des entiers compris entre 1 et <code>n-1</code>, on multiplie le résultat
par la valeur de <code>n</code> et on renvoie le total. C'est le <em>cas récursif</em>.</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">factorielle</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">fac</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fac</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorielle</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fac</span>
</code></pre></div>
</td></tr></table>
</div>
</div>
</details>
</div>
<h3 id="troisieme-exemple-calcul-de-x-puissance-n">Troisième exemple : calcul de <code>x</code> puissance <code>n</code></h3>
<p>On suppose que <code>x</code> est un nombre et que <code>n</code> est un entier positif et on
souhaite définir une fonction <code>puissance</code> qui calcule <code>x</code> puissance <code>n</code>.</p>
<div class="admonition fonc">
<p class="admonition-title">Fonction <code>puissance</code></p>
<details class="info"><summary>Détermine la valeur de <code>x</code> puissance <code>n</code>.</summary><div class="admonition entrée">
<p class="admonition-title">Entrées</p>
<ul>
<li><code>x</code> : entier ou flottant</li>
<li><code>n</code> : entier positif</li>
</ul>
</div>
<div class="admonition sortie">
<p class="admonition-title">Sortie</p>
<ul>
<li><code>val</code> : même type que le paramètre d'entrée <code>x</code></li>
</ul>
</div>
</details>
<details class="python" open="open"><summary>Implémentation</summary><div class="tabbed-set" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">Version itérative</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">puissance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">val</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">val</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div>
</td></tr></table>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><label for="__tabbed_3_2">Version récursive</label><div class="tabbed-content">
<p>Pour l'écriture de la fonction récursive, deux cas à sont envisager :</p>
<ul>
<li>Si <code>n == 0</code>, on utilise la propriété <span class="arithmatex">\(x^0 = 1\)</span> : on renvoie la valeur 1.
C'est le <em>cas de base</em>.</li>
<li>Si <code>n &gt; 0</code>, on utilise la propriété <span class="arithmatex">\(x^n = x \times x^{n-1}\)</span> : on calcule récursivement
<span class="arithmatex">\(x^{n-1}\)</span>, on multiplie le résultat par la valeur de <code>x</code> et on renvoie le total.
C'est le <em>cas récursif</em>.</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">puissance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">puissance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</div>
</div>
</details>
</div>
<h2 id="pile-dappels-recursifs">Pile d'appels récursifs</h2>
<p>Si on effectue l'appel <code>puissance(2, 3)</code>, on peut représenter la pile des quatre appels
de la fonction <code>puissance</code>, et les paramètres correspondant à chaque appel, sous la forme d'un arbre.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">puissance</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="o">|</span>
    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">puissance</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                   <span class="o">|</span>
                   <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">puissance</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                                  <span class="o">|</span>
                                  <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">puissance</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                                                 <span class="o">|</span>
                                                 <span class="k">return</span> <span class="mi">1</span>
</code></pre></div>
</td></tr></table>
<p>Le nombre d'appels simultanés de fonctions est limité. On peut en connaître le nombre maximal
grâce à la fonction <code>getrecursionlimit</code> du module <code>sys</code>.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">getrecursionlimit</span>
<span class="nb">print</span><span class="p">(</span><span class="n">getrecursionlimit</span><span class="p">())</span>
</code></pre></div>
</td></tr></table>
<p>Une erreur apparaît si on essaie de réaliser plus d'appels récursifs que la limite autorisée.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="ne">RecursionError</span><span class="p">:</span> <span class="n">maximum</span> <span class="n">recursion</span> <span class="n">depth</span> <span class="n">exceeded</span> <span class="ow">in</span> <span class="n">comparison</span>
</code></pre></div>
</td></tr></table>
<p>La limite du nombre d'appels simultanés de fonctions peut être modifiée grâce à la fonction
<code>setrecursionlimit</code>du module <code>sys</code>.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">setrecursionlimit</span>
<span class="n">setrecursionlimit</span><span class="p">(</span><span class="mi">4000</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>Il faut néanmoins être raisonnable en cas de modification de cette limite, car un nombre excessif
de récursions provoque le plantage du programme à cause d'une erreur de débordement de pile d'exécution
(<em>stack overflow</em>).</p>
<h2 id="tours-de-hanoi">Tours de Hanoï</h2>
<p>Les <em>tours de Hanoï</em> sont un jeu de réflexion consistant à déplacer des disques de diamètres
différents d'une tour gauche à une tour droite en passant par une tour centrale, et ceci en
un minimum de coups, tout en respectant les règles suivantes :</p>
<ul>
<li>on ne peut pas déplacer plus d'un disque à la fois,</li>
<li>on ne peut placer un disque que sur un autre disque plus grand ou sur un emplacement vide.</li>
</ul>
<p>Ce jeu est un exemple de problème qui peut être résolu par une approche récursive.</p>
<iframe title="Version jouable de la Tour de Hanoï" src="Hanoï.html" width="800px" height="450px"></iframe>

<div class="admonition fonc">
<p class="admonition-title">Procédure <code>solution_hanoi</code></p>
<details class="info"><summary>Affiche les mouvements à effectuer pour résoudre le problème des tours de Hanoï à  <code>n</code> disques.</summary><div class="admonition entrée">
<p class="admonition-title">Entrées</p>
<ul>
<li><code>n</code> : entier positif (nombre de disques)</li>
<li><code>depart</code> : chaîne de caractères (nom de la tour de départ)</li>
<li><code>intermediaire</code> : chaîne de caractères (nom de la tour intermédiaire)</li>
<li><code>arrivee</code> : chaîne de caractères (nom de la tour d'arrivée)</li>
</ul>
</div>
<p><em>Effet de bord :</em> affichage de texte à l'écran</p>
</details>
<details class="python" open="open"><summary>Implémentation</summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">solution_hanoi</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">depart</span><span class="p">,</span> <span class="n">intermediaire</span><span class="p">,</span> <span class="n">arrivee</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">solution_hanoi</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">depart</span><span class="p">,</span> <span class="n">arrivee</span><span class="p">,</span> <span class="n">intermediaire</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Déplacer un disque de </span><span class="si">{</span><span class="n">depart</span><span class="si">}</span><span class="s2"> vers </span><span class="si">{</span><span class="n">arrivee</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="n">solution_hanoi</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">intermediaire</span><span class="p">,</span> <span class="n">depart</span><span class="p">,</span> <span class="n">arrivee</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
</div>
<p>Le cas de base est celui où il n'y a aucun disque : on ne fait rien du tout.</p>
<p>Pour déplacer <code>n</code> disques de la tour <code>depart</code> vers la tour <code>arrivee</code>, on procède en trois temps :</p>
<ul>
<li>on déplace récursivement <code>n-1</code> disques de la tour <code>depart</code> vers la tour <code>intermediaire</code>,</li>
<li>on déplace un disque (le plus grand) de la tour <code>depart</code> vers la tour <code>arrivee</code>,</li>
<li>on déplace récursivement <code>n-1</code> disques de la tour <code>intermediaire</code> vers la tour <code>arrivee</code>.</li>
</ul>
<p>L'appel <code>hanoi(3, 'GAUCHE', 'CENTRE', 'DROITE')</code> entraîne les sept affichages suivants :</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>Déplacer un disque de GAUCHE vers DROITE.
Déplacer un disque de GAUCHE vers CENTRE.
Déplacer un disque de DROITE vers CENTRE.
Déplacer un disque de GAUCHE vers DROITE.
Déplacer un disque de CENTRE vers GAUCHE.
Déplacer un disque de CENTRE vers DROITE.
Déplacer un disque de GAUCHE vers DROITE.
</code></pre></div>
</td></tr></table>
<h2 id="ce-quil-faut-savoir-et-savoir-faire">Ce qu'il faut savoir et savoir faire</h2>
<ul>
<li>Écrire une fonction récursive, en identifiant le(s) cas de base et le(s) cas récursif(s).</li>
<li>Dessiner un arbre d'appels récursifs.</li>
</ul>
<h2 id="exercices-et-activites">Exercices et activités</h2>
<details class="exo"><summary>Exercices</summary><div class="tabbed-set" data-tabs="4:5"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">Algorithme d'Euclide</label><div class="tabbed-content">
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à travailler sur le site <a href="https://capytale2.ac-paris.fr/web/code/b075-42299" target="_blank">CAPYTALE</a> ou à télécharger <a href="notebooks/ex_algorithme_Euclide.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/ex_algorithme_Euclide_corr.ipynb">ici</a></p>
</div>
</div>
<input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><label for="__tabbed_4_2">Décomposition d'un entier...</label><div class="tabbed-content">
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à travailler sur le site <a href="https://capytale2.ac-paris.fr/web/code/5242-51657" target="_blank">CAPYTALE</a> ou à télécharger <a href="notebooks/ex_decomposition_quatre_carres.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/ex_decomposition_quatre_carres_corr.ipynb">ici</a></p>
</div>
</div>
<input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><label for="__tabbed_4_3">Exponentiation rapide</label><div class="tabbed-content">
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à travailler sur le site <a href="https://capytale2.ac-paris.fr/web/code/70ed-42353" target="_blank">CAPYTALE</a> ou à télécharger <a href="notebooks/ex_exponentiation_rapide.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/ex_exponentiation_rapide_corr.ipynb">ici</a></p>
</div>
</div>
<input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><label for="__tabbed_4_4">Palindromes</label><div class="tabbed-content">
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à travailler sur le site <a href="https://capytale2.ac-paris.fr/web/code/776c-40730" target="_blank">CAPYTALE</a> ou à télécharger <a href="notebooks/ex_palindromes.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/ex_palindromes_corr.ipynb">ici</a></p>
</div>
</div>
<input id="__tabbed_4_5" name="__tabbed_4" type="radio" /><label for="__tabbed_4_5">Suite de Fibonacci</label><div class="tabbed-content">
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à travailler sur le site <a href="https://capytale2.ac-paris.fr/web/code/44c7-52635" target="_blank">CAPYTALE</a> ou à télécharger <a href="notebooks/ex_fibonacci.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/ex_fibonacci_corr.ipynb">ici</a></p>
</div>
</div>
</div>
</details>
<details class="activité"><summary>Activités</summary><div class="tabbed-set" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><label for="__tabbed_5_1">Cercles tangents</label><div class="tabbed-content">
<p>L'objectif de l'activité d'écrire des procédures récursives pour dessiner des figures géométriques avec le module <code>turtle</code>.</p>
<p><img alt="Cercles tangents" class="center" src="https://ntoulzac.github.io/Cours-NSI-Terminale/recursivite/images/cercles_tangents_2.png" /></p>
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à télécharger <a href="notebooks/act_cercles_tangents.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/act_cercles_tangents_corr.ipynb">ici</a></p>
</div>
</div>
<input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><label for="__tabbed_5_2">Fractales</label><div class="tabbed-content">
<p>L'objectif de l'activité d'écrire des procédures récursives pour dessiner des figures fractales avec le module <code>turtle</code>.</p>
<p><img alt="Triangle de Sierpinski" class="center" src="https://ntoulzac.github.io/Cours-NSI-Terminale/recursivite/images/triang_sierp.gif" width="40%" /></p>
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à télécharger <a href="notebooks/act_fractales.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/act_fractales_corr.ipynb">ici</a></p>
</div>
</div>
<input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><label for="__tabbed_5_3">Le compte est bon !</label><div class="tabbed-content">
<p>L'objectif de l'activité est de créer un <em>solveur</em> du jeu <em>Le compte est bon</em>.</p>
<p><img alt="Le compte est bon !" class="center" src="https://ntoulzac.github.io/Cours-NSI-Terminale/recursivite/images/le_compte_est_bon.png" width="50%" /></p>
<div class="admonition jupyter">
<p class="admonition-title">Carnet <em>Jupyter</em> à travailler sur le site <a href="https://capytale2.ac-paris.fr/web/code/e4db-42246" target="_blank">CAPYTALE</a> ou à télécharger <a href="notebooks/act_le_compte_est_bon.ipynb">ici</a></p>
</div>
<div class="admonition solution">
<p class="admonition-title">Corrigé disponible <a href="notebooks/corr/act_le_compte_est_bon_corr.ipynb">ici</a></p>
</div>
</div>
</div>
</details>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Retour en haut de la page
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Pied de page">
      
        
        <a href="../api/" class="md-footer__link md-footer__link--prev" aria-label="Précédent: Interfaces de programmation d&#39;applications" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Précédent
              </span>
              Interfaces de programmation d'applications
            </div>
          </div>
        </a>
      
      
        
        <a href="../prog_objet/" class="md-footer__link md-footer__link--next" aria-label="Suivant: Programmation objet" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Suivant
              </span>
              Programmation objet
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            N. Toulzac, Lycée Louis Armand (Nogent-sur-Marne) 2021
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="mailto:toulzac.nsi@gmail.com" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M476 3.2 12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.sections", "navigation.top", "toc.integrate", "header.autohide"], "translations": {"clipboard.copy": "Copier dans le presse-papier", "clipboard.copied": "Copi\u00e9 dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.term.missing": "Non trouv\u00e9", "select.version.title": "S\u00e9lectionner la version"}, "search": "../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.b1047164.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>